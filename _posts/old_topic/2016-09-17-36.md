---
layout: post
title: Django Guide
description: Django Guide
date:   2016-09-17 22:50:18 +0800 
tags: [lua]
categories: [topic]
---
给Django做一个索引。

Form
http://www.djangobook.com/en/2.0/chapter07.html

打字少，功能实现快。



开发备忘录

1.创建空工程
django-admin.py startproject djproject

2.创建空应用
python manage.py startapp jobs

3.查看数据库表结构
python manage.py sql jobs

4.运行服务
python manage.py runserver


5.同步数据库变更
python manage.py schemamigration youappname --initial
python manage.py syncdb
python manage.py convert_to_south youappname
python manage.py schemamigration youappname --auto
python manage.py migrate youappnam

这个用到了south，一定程度解决修改表结构的痛苦，但是还有。



6.运行本地服务

python manage.py runserver 8086


7.命令行方式的与Django交互。
python manage.py shell


8.ORM数据库
python manage.py init 初始化数据库
python manage.py sqlall [appname] 查看app的CREATE TABLE的语句，包括原始数据，创建索引等.

python manage.py sqlreset [appname] 修改models，不保留以前数据，进行重置数据库，更新表。

python manage.py validate 用来排错
python manage.py syncdb 用来建表
python manage.py sql databasename 用来查看已创建数据库表结构



myphpadmin
sudo apt-get install phpmyadmin 
sudo ln -s /usr/share/phpmyadmin /var/www


Django Admin 录入中文错误解决办法
ALTER TABLE auth_xxxxxx MODIFY COLUMN xxxxxx VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL;

ALTER TABLE django_admin_log MODIFY COLUMN object_repr VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL;