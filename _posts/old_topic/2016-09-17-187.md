---
layout: post
title: Moonscript的循环结构
description: Moonscript的循环结构
date:   2016-09-17 22:50:18 +0800 
categories: [topic]
---
除了使用迭代器，某些应用场合，我们还需要使用固定次数的循环结构，Moonscript提供While风格
的固定循环控制。

Moonscript

```lua
class extends lapis.Application
  [loop: "/loop"]:=>
    @html ->
      i =  10
      while i > 0
        div text "Moonscript"
        i -= 1
```

我们把纯循环的代码，从Moonscript Lapis框架代码独立出来：

Moonscript
```lua
i = 100
my_func = ->
  i = 10
  while i > 0
    print i
    i -= 1

my_func!

print i
```

Lua
```lua
local i = 100
local my_func
my_func = function()
  i = 10
  while i > 0 do
    print(i)
    i = i - 1
  end
end
my_func()
return print(i)
```


为什么这个？用这种循环样式在Moonscript直接控制HTML标签应该能比较便捷一些。

把静态文档的目录用些控制，配合sitegen生成静态网页很好。

作者：糖果

PS:转载到其它平台请注明作者姓名及原文链接，请勿用于商业用途。