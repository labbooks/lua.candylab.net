---
layout: post
title: Lrexlib安装(Lua PCRE)
description: Lrexlib安装(Lua PCRE)
date:   2016-09-17 22:50:18 +0800 
categories: [topic]
---
作者：糖果

Lrexlib是PCRE的Lua调用库。在此说一下 Lrexlib的安装过程。


Ubuntu下安装：

1.首先是安装依赖。
```
apt-get install libpcre3
apt-get install libpcre3-dev
```

2.建立连接。
Ubuntu安装的是pcre3，安装完之后系统内才能有libpcre.so的库。
apt-get安装的库文件没有在/usr/lib文件夹下，需要建立连接。

```
ln -s /lib/x86_64-linux-gnu/libpcre.so.3 /usr/lib/libpcre.so
```

3.使用luarocks安装PCRE。
```
sudo luarocks install lrexlib-PCRE PCRE_LIBDIR=/usr/lib/
```

4.测试库。
```
lua -e "require 'rex_pcre'"
```


Centos下安装PCRE：


1.首先是安装依赖。
```
yum install pcre
yum install pcre-devel
```

2.建立连接。
```
ln -s  /usr/lib64/libpcre.so /usr/lib
```

3.使用luarocks安装PCRE。

需要特别说明的地方是，在centos上安装2.8是编译不过的，需要指定2.7.2版本的安装。
```
luarocks install lrexlib-pcre 2.7.2-1 PCRE_LIBDIR=/usr/lib64/
```

4.测试库。
```
lua -e "require 'rex_pcre'"
```


https://luarocks.org/modules/luarocks/lrexlib-pcre




PS:转载到其它平台请注明作者姓名及原文链接，请勿用于商业用途。