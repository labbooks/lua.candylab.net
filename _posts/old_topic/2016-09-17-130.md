---
layout: post
title: 普通用户使用SUDO安装程序
description: 普通用户使用SUDO安装程序
date:   2016-09-17 22:50:18 +0800 
tags: [lua]
categories: [topic]
---
<h3>1.添加用户</h3> 

可以用adduser和useradd来添加用户，用userdel来删除用户。

最简单的命令：
```
sudo adduser test
```
会自动同名组，创建/home/test/，从etc/skel/复制文件，并设定密码和相关初始身份信息

原始一点的命令：
```
sudo useradd -mk /home/test2 -s /bin/bash test2
sudo passwd test2
```

如果将此步骤分解一个一个来做：
```
sudo mkdir /home/test3
sudo useradd -d /home/test3 -s /bin/bash test3
sudo chown test3:test3 /home/test3
sudo cp /etc/skel/* /home/test3
sudo passwd test3
```

删除用户：

```
sudo userdel test
rm -rf /home/test
```

<h3>2.登录普通用户，sudo使用root权限的设置:</h3> 

进入超级用户
su - 

修改sudoers配置文件的属性
```
chmod u+w /etc/sudoers
```

编辑sudoers文件

在root ALL=(ALL) ALL下面加一行
```
newusername ALL=(ALL) ALL 
```

退出修改文件属性
```
chmod u-w /etc/sudoers
```

之后就可以sudo XXX(命令) 执行了。

在Openresty运行的时候，如用普通用户起动lapis服务，是没有权限访问80端口的,需要使用sudo lapis server的方式，在普通用用户下访问。


作者：糖果

PS:转载到其它平台请注明作者姓名及原文链接，请勿用于商业用途。

http://www.lua.ren