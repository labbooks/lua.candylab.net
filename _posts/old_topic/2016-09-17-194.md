---
layout: post
title: 如何定制Nginx的Log输出格式
description: 如何定制Nginx的Log输出格式
date:   2016-09-17 22:50:18 +0800 
categories: [topic]
---
```lua
  set $currentDate 'day';
                access_by_lua '
                    ngx.var.currentDate = os.date("%Y-%m-%d")
                ';
                access_log /logs/app.access.$currentDate.log app_log;

```


图片：yuanzhang.png
<img src="http://orchina-blog.stor.sinaapp.com/1457692314.png" alt="yuanzhang.png" />


一个很棒的库
https://github.com/cloudflare/lua-resty-logger-socket

<a href="http://orchina-upblog.stor.sinaapp.com/blog%2Fngx_time_var_mod.zip" target="_blank">下载链接：一个独立的LOG输出模块</a>