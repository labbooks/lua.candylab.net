---
layout: post
title: GrayLog.py环境Python2.6和Python2.7环境共存
description: GrayLog.py环境Python2.6和Python2.7环境共存
date:   2016-09-17 22:50:18 +0800 
categories: [topic]
---
作者：糖果

需要部署Graylog.py，但有的机器Python版本是2.6.6的， 这个版本运行graylog.py有问题，需要新装一个Python2.7。


```shell
wget https://www.python.org/ftp/python/2.7.8/Python-2.7.8.tgz
tar xf Python-2.7.8.tgz
cd Python-2.7.8
./configure --prefix=/usr/local
make && make install
```

如果之前用jpython2.6装过pip或是easy setup，新装的包都放在python2.6的packge sites下，因为我们需要让python2.7能找到graylog，需要用python2.7装一人pip或是ez_setup， 我们选择安装ez_setup。


然后再选择用easy_setup安装pip。
下载一个安装包：
https://github.com/arbylee/setuptools

解压开，然后安装easy setup。

```
python2.7 ez_setup.py
easy_install-2.7 pip
```

如果在当前用户中路径中，不能直接找到python2.7和easy_install-2.7执行程序，就使用绝对路径指出他们的绝对位置去执行。

一般python2.7的位置是：/usr/local/bin/python2.7

```
pip2.7 install [packagename]
pip2.7 install --upgrade [packagename]
pip2.7 uninstall [packagename]
```


```
pip2.7 install virtualenv
virtualenv-2.7 mygraylog
source mygraylog/bin/activate
deactivate
```

```
python     pythhon2.7
pip     pip2.7
easy_install easy_install-2.7
virtualenv virtualenv-2.7
```

默认是使用python2.6.6的，在创建新环境时，指定使用--python==2.7
virtualenv testgraylog --python=python2.7
source ./bin/activate
进入默认是2.7的环境，  不用在python文件头部指定2.6或是2.7。

编辑整理：糖果