---
layout: post
title: WEB IDE环境运行Lua网页应用
description: WEB IDE环境运行Lua网页应用
date:   2016-09-17 22:50:18 +0800 
tags: [lua]
categories: [topic]
---
作者：糖果



如Python和Ruby一样，Lua也可以创建WEB应用，之前提过的一个Lua WEB框架

这次就在WEB IDE环境下，部署一下LuaWEB的运行环境，并创建一个Lua WEB应用。

第一步：安装WEB服务器， Openresty。

1).下载安装包
```
wget https://openresty.org/download/ngx_openresty-1.7.10.1.tar.gz
```

2).解压
```
tar xzvf ngx_openresty-1.7.10.1.tar.gz
```
3).安装依赖包
```
sudo apt-get install libreadline-dev
sudo apt-get install libncurses5-dev
sudo apt-get install libpcre3-dev
sudo apt-get install libssl-dev
sudo apt-get install perl
sudo apt-get install make
sudo apt-get install build-essential
```

3).配置与安装

```
cd xzvf ngx_openresty-1.7.10.1
./configure
make
make install
```

4).配置环境变量
```
export PATH=/usr/local/openresty/nginx/sbin:$PATH
nginx -v
```

第二步：安装Lapis

1).安装luarocks
```
sudo apt-get install luarocks
```

2).安装lapis框架。
```
sudo luarocks install lapis
```

第三步：创建Lua Web应用。
1).创建Lapis工程。
```
lapis new tangguo
```

2).创建app.lua
```
local lapis = require "lapis"  
local config = require("lapis.config")       
local app = lapis.Application()         
app:match("/", function(self)                                                                               return "Hi Lapis!"                                                                          end)                                                                                                return app
```

3).创建config.lua(设置IP:端口,数据库连接账号)
```
local config = require("lapis.config")                                                              config("development", {                                                                                  port = 8000,                                                                                        mysql = {                                                                                       host = "0.0.0.0",                                                                               user = "root",                                                                                  password = "",                                                                                  database = ""                                                                                  }                    
}) 
```
4).启动服务
```
lapis server
```
完成以上步骤后，我们就创建了就一个简单的Lua Web程序。
此程序在Coding的WEB IDE运行，通过测试。
下面是实际的运行效果地址：（1小时左右后地址失效）
```
https://qqbsel-8000-lhfxjz.box.myide.io/
```


PS:转载到其它平台请注明作者姓名及原文链接。