---
layout: post
title: Vanilla框架静态的路由使用
description: Vanilla框架静态的路由使用
date:   2016-09-17 22:50:18 +0800 
categories: [topic]
---
作者：糖果

这次我们来看一下，如何在Vanilla下，追加新的路由。

在Vanilla中追加一个新的路由，需要添加两个文件即可完成。

我们进入工程根目录下的application目录，分别在controllers文件夹、views文件夹下肯创建两个文件。

1.创建controllers文件。

waf.lua

```lua
local WafController = {}

function WafController:waf()
    local view = self:getView()
    local p = {}
    p['vanilla'] = 'WAF'
    p['zhoujing'] = 'Power by Openresty'
    view:assign(p)
    return view:display()
end

return WafController

```
2.创建views文件。

waf.html

```html
 <!DOCTYPE html>
<html>
<body>
  <img src="http://m1.sinaimg.cn/maxwidth.300/m1.sinaimg.cn/120d7329960e19cf073f264751e8d959_2043_2241.png">
  <h1><a href = 'https://github.com/idevz/vanilla'>{{vanilla}}</a></h1><h5>{{zhoujing}}</h5>
</body>
</html>
```

3.创建后的目录结构 。
```
.
./controllers
./controllers/index.lua
./controllers/error.lua
./controllers/waf.lua
./views
./views/error
./views/error/error.html
./views/waf
./views/waf/waf.html
./views/index
./views/index/index.html

```
最后我们在浏览器中输入路由到新网页的地址：

http://www.vanilla.ren:7200/waf/waf


下一篇介绍，如何配置vanilla中的WAF。

```
http://vanilla.ren:7200/waf.php?key=../
```




PS:转载到其它平台请注明作者姓名及原文链接，请勿用于商业用途。